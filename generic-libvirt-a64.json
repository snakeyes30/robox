{
  "variables": {
    "box_version": "{{env `VERSION`}}"
  },
  "provisioners": [
    {
      "scripts": [
        "scripts/gentoo/network.sh",
        "scripts/gentoo/emerge.sh"
      ],
      "type": "shell",
      "timeout": "720m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-gentoo-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/gentoo/virtualbox.sh",
        "scripts/gentoo/parallels.sh",
        "scripts/gentoo/vmware.sh",
        "scripts/gentoo/qemu.sh",
        "scripts/gentoo/vagrant.sh"
      ],
      "type": "shell",
      "timeout": "720m",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-gentoo-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/ubuntu2204/apt.sh",
        "scripts/ubuntu2204/floppy.sh",
        "scripts/ubuntu2204/fixkvp.sh",
        "scripts/ubuntu2204/network.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-ubuntu2204-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/ubuntu2204/vagrant.sh",
        "scripts/ubuntu2204/profile.sh",
        "scripts/ubuntu2204/motd.sh",
        "scripts/ubuntu2204/fixtty.sh",
        "scripts/ubuntu2204/virtualbox.sh",
        "scripts/ubuntu2204/parallels.sh",
        "scripts/ubuntu2204/vmware.sh",
        "scripts/ubuntu2204/qemu.sh",
        "scripts/ubuntu2204/cleanup.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-ubuntu2204-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/openbsd7/pkg.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "execute_command": "{{.Vars}} /bin/sh {{ .Path }}",
      "only": [
        "generic-openbsd7-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/openbsd7/hostname.sh",
        "scripts/openbsd7/motd.sh",
        "scripts/openbsd7/vagrant.sh",
        "scripts/openbsd7/profile.sh",
        "scripts/openbsd7/virtualbox.sh",
        "scripts/openbsd7/parallels.sh",
        "scripts/openbsd7/vmware.sh",
        "scripts/openbsd7/qemu.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "execute_command": "{{.Vars}} /usr/local/bin/bash {{ .Path }}",
      "only": [
        "generic-openbsd7-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/rhel9/network.sh",
        "scripts/rhel9/dnf.sh",
        "scripts/rhel9/base.sh",
        "scripts/rhel9/reboot.sh"
      ],
      "execute_command": "{{.Vars}} /bin/bash '{{.Path}}'",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-rhel9-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/rhel9/kernel.sh",
        "scripts/rhel9/floppy.sh",
        "scripts/rhel9/virtualbox.sh",
        "scripts/rhel9/parallels.sh",
        "scripts/rhel9/vmware.sh",
        "scripts/rhel9/qemu.sh",
        "scripts/rhel9/vagrant.sh",
        "scripts/rhel9/tuning.sh",
        "scripts/rhel9/sshd.sh",
        "scripts/rhel9/randomness.sh",
        "scripts/rhel9/updatedb.sh",
        "scripts/rhel9/cleanup.sh",
        "scripts/rhel9/undnf.sh"
      ],
      "execute_command": "{{.Vars}} /bin/bash '{{.Path}}'",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-rhel9-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/alma9/network.sh",
        "scripts/alma9/dnf.sh",
        "scripts/alma9/base.sh",
        "scripts/alma9/reboot.sh"
      ],
      "execute_command": "{{.Vars}} /bin/bash '{{.Path}}'",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-alma9-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/alma9/kernel.sh",
        "scripts/alma9/floppy.sh",
        "scripts/alma9/virtualbox.sh",
        "scripts/alma9/parallels.sh",
        "scripts/alma9/vmware.sh",
        "scripts/alma9/qemu.sh",
        "scripts/alma9/vagrant.sh",
        "scripts/alma9/tuning.sh",
        "scripts/alma9/sshd.sh",
        "scripts/alma9/randomness.sh",
        "scripts/alma9/updatedb.sh",
        "scripts/alma9/cleanup.sh",
        "scripts/alma9/undnf.sh"
      ],
      "execute_command": "{{.Vars}} /bin/bash '{{.Path}}'",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-alma9-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/fedora39/fixdns.sh",
        "scripts/fedora39/hostname.sh",
        "scripts/fedora39/dnf.sh"
      ],
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-fedora39-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/fedora39/fixtmp.sh",
        "scripts/fedora39/base.sh"
      ],
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-fedora39-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/fedora39/kernel.sh",
        "scripts/fedora39/updatedb.sh",
        "scripts/fedora39/vga.sh",
        "scripts/fedora39/virtualbox.sh",
        "scripts/fedora39/parallels.sh",
        "scripts/fedora39/vmware.sh",
        "scripts/fedora39/qemu.sh",
        "scripts/fedora39/vagrant.sh",
        "scripts/fedora39/tuning.sh",
        "scripts/fedora39/cleanup.sh"
      ],
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-fedora39-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/rawhide/fixdns.sh",
        "scripts/rawhide/hostname.sh",
        "scripts/rawhide/dnf.sh"
      ],
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-fedora-rawhide-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/rawhide/fixtmp.sh",
        "scripts/rawhide/base.sh"
      ],
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-fedora-rawhide-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/rawhide/kernel.sh",
        "scripts/rawhide/updatedb.sh",
        "scripts/rawhide/vga.sh",
        "scripts/rawhide/virtualbox.sh",
        "scripts/rawhide/parallels.sh",
        "scripts/rawhide/vmware.sh",
        "scripts/rawhide/qemu.sh",
        "scripts/rawhide/vagrant.sh",
        "scripts/rawhide/tuning.sh",
        "scripts/rawhide/cleanup.sh"
      ],
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-fedora-rawhide-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/debian12/apt.sh",
        "scripts/debian12/network.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-debian12-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/debian12/floppy.sh",
        "scripts/debian12/profile.sh",
        "scripts/debian12/vagrant.sh",
        "scripts/debian12/motd.sh",
        "scripts/debian12/fixtty.sh",
        "scripts/debian12/virtualbox.sh",
        "scripts/debian12/parallels.sh",
        "scripts/debian12/vmware.sh",
        "scripts/debian12/qemu.sh",
        "scripts/debian12/cleanup.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-debian12-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/alpine318/network.sh",
        "scripts/alpine318/apk.sh"
      ],
      "execute_command": "/bin/sh '{{.Path}}'",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-alpine318-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/alpine318/hostname.sh",
        "scripts/alpine318/lsb.sh",
        "scripts/alpine318/floppy.sh",
        "scripts/alpine318/vagrant.sh",
        "scripts/alpine318/sshd.sh",
        "scripts/alpine318/virtualbox.sh",
        "scripts/alpine318/parallels.sh",
        "scripts/alpine318/vmware.sh",
        "scripts/alpine318/qemu.sh",
        "scripts/alpine318/cache.sh"
      ],
      "execute_command": "{{.Vars}} /bin/bash '{{.Path}}'",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-alpine318-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/freebsd14/pkg.sh",
        "scripts/freebsd14/hostname.sh",
        "scripts/freebsd14/kernel.sh",
        "scripts/freebsd14/firstboot.sh",
        "scripts/freebsd14/motd.sh",
        "scripts/freebsd14/vagrant.sh",
        "scripts/freebsd14/virtualbox.sh",
        "scripts/freebsd14/parallels.sh",
        "scripts/freebsd14/vmware.sh",
        "scripts/freebsd14/qemu.sh",
        "scripts/freebsd14/cleanup.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "execute_command": "{{.Vars}} /usr/local/bin/bash {{ .Path }}",
      "only": [
        "generic-freebsd14-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/alpine319/network.sh",
        "scripts/alpine319/apk.sh"
      ],
      "execute_command": "/bin/sh '{{.Path}}'",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-alpine319-libvirt-a64"
      ]
    },
    {
      "type": "shell",
      "timeout": "120m",
      "scripts": [
        "scripts/alpine319/hostname.sh",
        "scripts/alpine319/lsb.sh",
        "scripts/alpine319/floppy.sh",
        "scripts/alpine319/vagrant.sh",
        "scripts/alpine319/sshd.sh",
        "scripts/alpine319/virtualbox.sh",
        "scripts/alpine319/parallels.sh",
        "scripts/alpine319/vmware.sh",
        "scripts/alpine319/qemu.sh",
        "scripts/alpine319/cache.sh"
      ],
      "execute_command": "{{.Vars}} /bin/bash '{{.Path}}'",
      "pause_before": "120s",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true",
      "only": [
        "generic-alpine319-libvirt-a64"
      ]
    },
    {
      "scripts": [
        "scripts/common/motd.sh",
        "scripts/common/keys.sh",
        "scripts/common/machine.sh",
        "scripts/common/leases.sh",
        "scripts/common/localtime.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true"
    },
    {
      "scripts": [
        "scripts/common/zerodisk.sh"
      ],
      "type": "shell",
      "timeout": "720m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true"
    },
    {
      "scripts": [
        "scripts/common/lockout.sh"
      ],
      "type": "shell",
      "timeout": "120m",
      "start_retry_timeout": "15m",
      "expect_disconnect": "true"
    }
  ],
  "builders": [
    {
      "type": "qemu",
      "name": "generic-gentoo-libvirt-a64",
      "vm_name": "generic-gentoo-libvirt-a64",
      "output_directory": "output/generic-gentoo-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "120s",
      "boot_key_interval":"25ms",
      "boot_command": [
        "passwd root<enter><wait5>",
        "vagrant<enter><wait5>",
        "vagrant<enter><wait5>",
        "curl -O 'http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.gentoo.vagrant{,.chroot}.a64.sh'<enter><wait>",
        "bash generic.gentoo.vagrant.a64.sh 2>&1 | tee generic.gentoo.vagrant.a64.txt<enter>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=on"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ],
        [
          "-d",
          "unimp,guest_errors"
        ],
        [
          "-D",
          "qemu-error-log-a64.txt"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 64,
      "memory": 8192,
      "http_directory": "http",
      "headless": false,
      "iso_url": "https://mirrors.kernel.org/gentoo/releases/arm64/autobuilds/current-install-arm64-minimal/install-arm64-minimal-20240204T231827Z.iso",
      "iso_checksum": "sha256:0451b6edf1feec40a38f0badddd9e9a4bb379af9c67ee86dc547584f46f940f4",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "86400s",
      "shutdown_command": "shutdown -hP now"
    },
    {
      "type": "qemu",
      "name": "generic-openbsd7-libvirt-a64",
      "vm_name": "generic-openbsd7-libvirt-a64",
      "output_directory": "output/generic-openbsd7-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "60s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "S<enter><wait5>",
        "ifconfig vio0 group dhcp<enter><wait5>",
        "ifconfig vio0 inet autoconf<enter><wait10>",
        "ftp -o /install.conf http://{{.HTTPIP}}:{{.HTTPPort}}/generic.openbsd7.install.cfg<enter><wait5>",
        "ftp -o /install-chroot.sh http://{{.HTTPIP}}:{{.HTTPPort}}/generic.openbsd7.install.chroot.sh<enter><wait5>",
        "/install -a -f /install.conf -m install && chroot /mnt < /install-chroot.sh && reboot<enter>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": true,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://cdn.openbsd.org/pub/OpenBSD/7.4/arm64/miniroot74.img",
      "iso_checksum": "sha256:7b08b2ce081cff6408d183f7152ddcfd2779912104866e4fdf6ae2d864b51142",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "shutdown -h -p now"
    },
    {
      "type": "qemu",
      "name": "generic-ubuntu2204-libvirt-a64",
      "vm_name": "generic-ubuntu2204-libvirt-a64",
      "output_directory": "output/generic-ubuntu2204-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "10s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "c<wait><enter>",
        "set gfxpayload=keep<enter><wait10>",
        "linux /casper/vmlinuz autoinstall ",
        "cloud-config-url=\"http://{{.HTTPIP}}:{{.HTTPPort}}/generic.ubuntu2204.vagrant.cfg\" --- ",
        "net.ifnames=0 biosdevname=0 console=ttyAMA0 console=tty1<enter><wait10>",
        "initrd /casper/initrd<enter><wait10>",
        "boot<enter>"
      ],

      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://cdimage.ubuntu.com/releases/22.04.3/release/ubuntu-22.04.3-live-server-arm64.iso",
      "iso_checksum": "sha256:5702372d25111e24d59596de62ae24daef873018cbf63c9dd9ff12292a57aca9",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now"
    },
    {
      "type": "qemu",
      "name": "generic-rhel9-libvirt-a64",
      "vm_name": "generic-rhel9-libvirt-a64",
      "output_directory": "output/generic-rhel9-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "20s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<tab><wait10><tab><wait10><tab><wait10><tab><wait10><tab><wait10><tab><wait10>",
        "<tab><wait10><tab><wait10><tab><wait10>c<wait><enter>",
        "linux /images/pxeboot/vmlinuz ",
        "inst.stage2=hd:LABEL=RHEL-9-3-0-BaseOS-aarch64 ",
        "inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.rhel9.vagrant.ks ",
        "inst.text net.ifnames=0 biosdevname=0 console=ttyAMA0 console=tty1<enter><wait10>",
        "initrd /images/pxeboot/initrd.img<enter><wait10>",
        "boot<enter><wait>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://archive.org/download/rhel-9.3/rhel-9.3-aarch64-dvd.iso",
      "iso_checksum": "sha256:3ed389624e0ed8bf5dfacbc049324b83f999f335f88844621a8b6c7027d574b0",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now"
    },
    {
      "type": "qemu",
      "name": "generic-alma9-libvirt-a64",
      "vm_name": "generic-alma9-libvirt-a64",
      "output_directory": "output/generic-alma9-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "20s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<tab><wait10><tab><wait10><tab><wait10><tab><wait10><tab><wait10><tab><wait10>",
        "<tab><wait10><tab><wait10><tab><wait10>c<wait><enter>",
        "linux /images/pxeboot/vmlinuz ",
        "inst.stage2=hd:LABEL=AlmaLinux-9-3-aarch64-dvd ",
        "inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.alma9.vagrant.a64.ks ",
        "inst.text net.ifnames=0 biosdevname=0 console=ttyAMA0 console=tty1<enter><wait10>",
        "initrd /images/pxeboot/initrd.img<enter><wait10>",
        "boot<enter><wait>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://dfw.mirror.rackspace.com/almalinux/9.3/isos/aarch64/AlmaLinux-9.3-aarch64-boot.iso",
      "iso_checksum": "sha256:319b131bf07f369cd2508d00a65d8f5d9423929d6cc42a5f24662f7391f90acd",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now"
    },
    {
      "type": "qemu",
      "name": "generic-fedora39-libvirt-a64",
      "vm_name": "generic-fedora39-libvirt-a64",
      "output_directory": "output/generic-fedora39-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "30s",
      "boot_key_interval": "20ms",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5>",
        "<tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5>",
	"c<wait><enter>",
        "insmod efi_gop<enter><wait>",
        "insmod gzio<enter><wait>",
        "insmod part_gpt<enter><wait>",
        "insmod ext2<enter><wait>",
        "insmod xfs<enter><wait>",
        "insmod fat<enter><wait>",
        "insmod iso9660<enter><wait>",
        "insmod lvm<enter><wait>",
        "insmod net<enter><wait>",
        "insmod bufio<enter><wait>",
        "linux /images/pxeboot/vmlinuz ",
        "inst.stage2=hd:LABEL=Fedora-S-dvd-aarch64-39 ro ",
        "inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.fedora39.vagrant.a64.ks ",
        "inst.text inst.selinux=0 net.ifnames=0 biosdevname=0 nomodeset selinux=0 console=ttyAMA0 console=tty1<enter><wait5>",
        "initrd /images/pxeboot/initrd.img<enter><wait5>",
        "boot<enter><wait>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ],
        [
          "-d",
          "unimp,guest_errors"
        ],
        [
          "-D",
          "qemu-error-log-a64.txt"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "vtpm": true,
      "tpm_device_type": "tpm-tis-device",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "e1000",
      "cpus": 4,
      "memory": 8192,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://dl.fedoraproject.org/pub/fedora/linux/releases/39/Server/aarch64/iso/Fedora-Server-netinst-aarch64-39-1.5.iso",
      "iso_checksum": "sha256:4321934397c7a296b93bd30ca1ca045af34d491f204bdaedad6cc153670a36aa",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now"
    },
    {
      "type": "qemu",
      "name": "generic-fedora-rawhide-libvirt-a64",
      "vm_name": "generic-fedora-rawhide-libvirt-a64",
      "output_directory": "output/generic-fedora-rawhide-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "30s",
      "boot_key_interval": "20ms",
      "boot_keygroup_interval": "1s",
      "boot_command": [
	"<tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5>",
        "<tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5><tab><wait5>",
	"c<wait><enter>",
	"insmod efi_gop<enter><wait>",
        "insmod gzio<enter><wait>",
        "insmod part_gpt<enter><wait>",
        "insmod ext2<enter><wait>",
        "insmod xfs<enter><wait>",
        "insmod fat<enter><wait>",
        "insmod iso9660<enter><wait>",
        "insmod lvm<enter><wait>",
        "insmod net<enter><wait>",
        "insmod bufio<enter><wait>",
        "root (cd0,0)<enter><wait>",
        "linux /images/pxeboot/vmlinuz ",
        "search --no-floppy --set=root -l 'Fedora-S-dvd-aarch64-rawh'<enter><wait>",
        "linux /images/pxeboot/vmlinuz ",
        "inst.stage2=hd:LABEL=Fedora-S-dvd-aarch64-rawh ro ",
        "inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.rawhide.vagrant.a64.ks ",
        "inst.text inst.selinux=0 net.ifnames=0 biosdevname=0 nomodeset selinux=0 console=ttyAMA0 console=tty1<enter><wait5>",
        "initrd /images/pxeboot/initrd.img<enter><wait5>",
        "boot<enter><wait>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "e1000",
      "cpus": 4,
      "memory": 8192,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://mirrors.kernel.org/fedora/development/rawhide/Server/aarch64/iso/Fedora-Server-netinst-aarch64-Rawhide-20240205.n.0.iso",
      "iso_checksum": "sha256:20c81c4362e358d2bcae63875ba9fb423eac6d1cb6603904b351da9afec0c7cd",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now"
    },
    {
      "type": "qemu",
      "name": "generic-debian12-libvirt-a64",
      "vm_name": "generic-debian12-libvirt-a64",
      "output_directory": "output/generic-debian12-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "10s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
         "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "<tab><wait><tab><wait><tab><wait><tab><wait><tab><wait><tab><wait>",
        "c<wait><enter>",
        "setparams 'Install'<enter><wait>",
        "set background_color=black<enter><wait>",
        "linux /install.a64/vmlinuz auto=true priority=high --- ",
        "preseed/url=http://{{.HTTPIP}}:{{.HTTPPort}}/generic.debian12.vagrant.arm.cfg ",
        "ipv6.disable_ipv6=1 net.ifnames=0 biosdevname=0 hostname=debian12 domain=localdomain ",
        "console=tty1<enter><wait>",
        "initrd /install.a64/initrd.gz<enter><wait>",
        "boot<enter><wait>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ],
        [
          "-d",
          "unimp,guest_errors"
        ],
        [
          "-D",
          "qemu-error-log-a64.txt"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "e1000",
      "cpus": 4,
      "memory": 8192,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://cdimage.debian.org/cdimage/release/12.4.0/arm64/iso-cd/debian-12.4.0-arm64-netinst.iso",
      "iso_checksum": "sha256:d32d2c63350a932dc0d9d45665985b41413f9e01efc0eacbea981d435f553d3d",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now"
    },
    {
      "type": "qemu",
      "name": "generic-alpine318-libvirt-a64",
      "vm_name": "generic-alpine318-libvirt-a64",
      "output_directory": "output/generic-alpine318-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "360s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<enter><wait10>",
        "root<enter><wait>",
        "ifconfig eth0 up && udhcpc -i eth0<enter><wait>",
        "wget http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.alpine318.vagrant.cfg<enter><wait>",
        "sed -i -e \"/rc-service/d\" /sbin/setup-sshd<enter><wait>",
        "source generic.alpine318.vagrant.cfg<enter><wait>",
        "printf \"vagrant\\nvagrant\\n\" | sh /sbin/setup-alpine -f /root/generic.alpine318.vagrant.cfg && ",
        "mount /dev/vda2 /mnt && ",
        "sed -E -i '/#? ?PasswordAuthentication/d' /mnt/etc/ssh/sshd_config && ",
        "sed -E -i '/#? ?PermitRootLogin/d' /mnt/etc/ssh/sshd_config && ",
        "echo 'PasswordAuthentication yes' >> /mnt/etc/ssh/sshd_config && ",
        "echo 'PermitRootLogin yes' >> /mnt/etc/ssh/sshd_config && ",
        "chroot /mnt apk add openntpd && chroot /mnt rc-update add openntpd default && reboot<enter>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://mirrors.edge.kernel.org/alpine/v3.18/releases/aarch64/alpine-virt-3.18.6-aarch64.iso",
      "iso_checksum": "sha256:658ea48a8ed46970c29b9d2430746c07485069d85233df3d307766fe82dfbca7",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "/sbin/poweroff"
    },
    {
      "type": "qemu",
      "name": "generic-freebsd14-libvirt-a64",
      "vm_name": "generic-freebsd14-libvirt-a64",
      "output_directory": "output/generic-freebsd14-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "1s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<esc><wait><esc><wait><esc><wait><esc><wait>",
        "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
        "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
        "boot -s<enter>",
        "<wait10><wait10><wait10>",
        "/bin/sh<enter><wait10>",
        "mdmfs -s 100m md1 /tmp<enter><wait>",
        "mdmfs -s 100m md2 /mnt<enter><wait>",
        "dhclient -l /tmp/dhclient.lease.vtnet0 vtnet0<enter><wait5>",
        "fetch -o /tmp/installerconfig http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.freebsd14.vagrant.cfg<enter><wait5>",
        "sh -c ' { bsdinstall script /tmp/installerconfig 2>&1 && reboot ; } | tee /tmp/installerconfig.log ' <enter><wait10>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://ftp.freebsd.org/pub/FreeBSD/releases/ISO-IMAGES/14.0/FreeBSD-14.0-RELEASE-arm64-aarch64-disc1.iso",
      "iso_checksum": "sha256:f16022a6567050e4831f15610a0981a998a57c6a5c7b69b012f43253ecf436ad",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "shutdown -p now"
    },
    {
      "type": "qemu",
      "name": "generic-alpine319-libvirt-a64",
      "vm_name": "generic-alpine319-libvirt-a64",
      "output_directory": "output/generic-alpine319-libvirt-a64",
      "qemu_binary": "qemu-system-aarch64",
      "boot_wait": "360s",
      "boot_keygroup_interval": "1s",
      "boot_command": [
        "<enter><wait10>",
        "<enter><wait10>",
        "root<enter><wait>",
        "ifconfig eth0 up && udhcpc -i eth0<enter><wait>",
        "wget http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.alpine319.vagrant.cfg<enter><wait>",
        "sed -i -e \"/rc-service/d\" /sbin/setup-sshd<enter><wait>",
        "source generic.alpine319.vagrant.cfg<enter><wait>",
        "printf \"vagrant\\nvagrant\\n\" | sh /sbin/setup-alpine -f /root/generic.alpine319.vagrant.cfg && ",
        "mount /dev/vda2 /mnt && ",
        "sed -E -i '/#? ?PasswordAuthentication/d' /mnt/etc/ssh/sshd_config && ",
        "sed -E -i '/#? ?PermitRootLogin/d' /mnt/etc/ssh/sshd_config && ",
        "echo 'PasswordAuthentication yes' >> /mnt/etc/ssh/sshd_config && ",
        "echo 'PermitRootLogin yes' >> /mnt/etc/ssh/sshd_config && ",
        "chroot /mnt apk add openntpd && chroot /mnt rc-update add openntpd default && reboot<enter>"
      ],
      "qemuargs": [
        [
          "-display",
          "gtk"
        ],
        [
          "-machine",
          "virt,accel=kvm:tcg,gic-version=3,dump-guest-core=off,acpi=on,usb=on,ras=on"
        ],
        [
          "-cpu",
          "max"
        ],
        [
          "-overcommit",
          "mem-lock=on"
        ],
        [
          "-device",
          "ramfb"
        ],
        [
          "-boot",
          "strict=off,order=cd,menu=off"
        ],
        [
          "-device",
          "qemu-xhci"
        ],
        [
          "-device",
          "driver=virtio-keyboard-pci"
        ],
        [
          "-device",
          "driver=virtio-mouse-pci"
        ],
        [
          "-device",
          "driver=usb-kbd"
        ],
        [
          "-device",
          "driver=usb-mouse"
        ]
      ],
      "efi_boot": true,
      "efi_drop_efivars": true,
      "efi_firmware_code": "/usr/share/edk2/aarch64/QEMU_EFI-silent-pflash.raw",
      "efi_firmware_vars": "/usr/share/edk2/aarch64/vars-template-pflash.raw",
      "format": "qcow2",
      "disk_size": "131072",
      "disk_discard": "unmap",
      "disk_detect_zeroes": "on",
      "disk_cache": "unsafe",
      "disk_image": false,
      "disk_compression": true,
      "disk_interface": "virtio",
      "net_device": "virtio-net",
      "cpus": 4,
      "memory": 4096,
      "http_directory": "http",
      "headless": true,
      "iso_url": "https://mirrors.edge.kernel.org/alpine/v3.19/releases/aarch64/alpine-virt-3.19.1-aarch64.iso",
      "iso_checksum": "sha256:3d4e939e50411303e88e62fb337a61b36fc33511b0258b3ae8e2d908bfe886fa",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_port": 22,
      "ssh_handshake_attempts": 1000,
      "ssh_timeout": "9800s",
      "shutdown_command": "/sbin/poweroff"
    }
  ],
  "post-processors": [
    [
      {
        "type": "vagrant",
        "compression_level": 9,
        "keep_input_artifact": false,
        "vagrantfile_template": "tpl/generic-{{split build_name \"-\" 1}}.rb",
        "output": "output/generic-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{user `box_version`}}.box",
        "include": [
          "tpl/generic/info.json"
        ],
        "except": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      },
      {
        "type": "checksum",
        "checksum_types": [
          "sha256"
        ],
        "keep_input_artifact": false,
        "output": "output/generic-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{user `box_version`}}.box.sha256",
        "except": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      }
    ],
    [
      {
        "type": "vagrant",
        "compression_level": 9,
        "keep_input_artifact": false,
        "vagrantfile_template": "tpl/roboxes-{{split build_name \"-\" 1}}.rb",
        "output": "output/roboxes-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{user `box_version`}}.box",
        "include": [
          "tpl/roboxes/info.json"
        ],
        "except": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      },
      {
        "type": "checksum",
        "checksum_types": [
          "sha256"
        ],
        "keep_input_artifact": false,
        "output": "output/roboxes-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{user `box_version`}}.box.sha256",
        "except": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      }
    ],
    [
      {
        "type": "vagrant",
        "compression_level": 9,
        "keep_input_artifact": false,
        "vagrantfile_template": "tpl/generic-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}.rb",
        "output": "output/generic-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{split build_name \"-\" 4}}-{{user `box_version`}}.box",
        "include": [
          "tpl/generic/info.json"
        ],
        "only": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      },
      {
        "type": "checksum",
        "checksum_types": [
          "sha256"
        ],
        "keep_input_artifact": false,
        "output": "output/generic-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{split build_name \"-\" 4}}-{{user `box_version`}}.box.sha256",
        "only": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      }
    ],
    [
      {
        "type": "vagrant",
        "compression_level": 9,
        "keep_input_artifact": false,
        "vagrantfile_template": "tpl/roboxes-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}.rb",
        "output": "output/roboxes-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{split build_name \"-\" 4}}-{{user `box_version`}}.box",
        "include": [
          "tpl/roboxes/info.json"
        ],
        "only": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      },
      {
        "type": "checksum",
        "checksum_types": [
          "sha256"
        ],
        "keep_input_artifact": false,
        "output": "output/roboxes-{{split build_name \"-\" 1}}-{{split build_name \"-\" 2}}-{{split build_name \"-\" 3}}-{{split build_name \"-\" 4}}-{{user `box_version`}}.box.sha256",
        "only": [
          "generic-fedora-rawhide-libvirt-a64"
        ]
      }
    ]
  ]
}
